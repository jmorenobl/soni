# Soni Framework v0.3.0 - DSL Compiler Release

We're excited to announce the v0.3.0 release of Soni Framework with the new procedural DSL compiler!

## What's New

Soni Framework v0.3.0 introduces a powerful procedural DSL for defining complex dialogue flows with branching logic and explicit control flow.

### üéØ New Features

- **Procedural DSL**: Define complex flows with `process` section and `steps`
- **Branch Steps**: Conditional routing based on values
- **Jump Control**: Explicit control flow with `jump_to`
- **Graph Validation**: Automatic detection of cycles and unreachable nodes
- **Compilation**: >95% success rate for valid YAML configurations

### üìù DSL Syntax

#### Branches

```yaml
- step: decide_path
  type: branch
  input: status
  cases:
    success: continue
    error: jump_to_retry
```

#### Jumps

```yaml
- step: retry
  type: action
  call: retry_operation
  jump_to: collect_input
```

### üìä Compiler Features

- **StepParser**: Parses and validates flow steps
- **StepCompiler**: Generates LangGraph StateGraph from steps
- **Graph Validation**: Detects cycles, unreachable nodes, invalid targets
- **DAG Representation**: Intermediate representation for flow compilation

## Migration from v0.2.x

### Breaking Changes

- **Procedural DSL**: New `process` section with `steps` for complex flows
- Simple linear flows still supported via `steps` array

### Upgrade Guide

```yaml
# v0.2.x (still supported)
flows:
  simple_flow:
    steps:
      - step: collect
        type: collect
        slot: input

# v0.3.0 (new procedural DSL)
flows:
  complex_flow:
    process:
      - step: collect
        type: collect
        slot: input
      - step: branch
        type: branch
        input: value
        cases:
          ok: continue
```

## Getting Started

See our [DSL Guide](docs/dsl-guide.md) for complete documentation.

## Examples

Check out the [Advanced Examples](examples/advanced/) for retry loops and complex branching:
- `retry_flow.yaml` - Retry loop using jumps
- `branching_flow.yaml` - Complex branching logic

## Documentation

- [DSL Guide](docs/dsl-guide.md) - Complete DSL syntax and examples
- [Architecture Guide](docs/architecture.md) - Framework architecture
- [Migration Guide](docs/migration-v0.3.0.md) - Upgrade from v0.2.x (if exists)

## Installation

```bash
git clone https://github.com/jmorenobl/soni.git
cd soni
git checkout v0.3.0
uv sync
uv pip install -e .
```

## Contributors

Thank you to all contributors who made this release possible!

## What's Next

v0.4.0 will focus on Zero-Leakage Architecture:
- Action Registry for semantic action registration
- Validator Registry for semantic validation
- Output Mapping for decoupled data structures
