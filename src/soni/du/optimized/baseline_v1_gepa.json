{
  "extractor.predict": {
    "traces": [],
    "train": [],
    "demos": [],
    "signature": {
      "instructions": "Analyze user messages in dialogue context and generate executable commands.\n\nYou are the \"Understanding Layer\" of a deterministic dialogue system.\nYour job is to translate the User's Message into a list of Commands.\n\nThe available commands are provided in `context.available_commands`.\nEach command has:\n- command_type: The identifier to use\n- description: What it does\n- required_fields: Fields you must populate\n- example: Example user message\n\nRULES:\n1. ONLY use commands from context.available_commands\n2. If user provides a value and 'expected_slot' is set, generate set_slot\n3. If user corrects a value, check 'current_slots' and generate correct_slot\n4. If user asks to start a task, match against 'available_flows'\n5. If 'conversation_state' is 'confirming':\n   - \"Yes/Correct\" -> affirm\n   - \"No/Wrong\" -> deny (include slot_name if they specify what to change)\n6. Be explicit. Generate exactly the commands needed.",
      "fields": [
        {
          "prefix": "User Message:",
          "description": "User's input message to analyze"
        },
        {
          "prefix": "Context:",
          "description": "Complete dialogue context including available_flows, available_commands, current_slots, expected_slot"
        },
        {
          "prefix": "History:",
          "description": "Recent conversation history (list of {role, content} messages)"
        },
        {
          "prefix": "Reasoning: Let's think step by step in order to",
          "description": "${reasoning}"
        },
        {
          "prefix": "Result:",
          "description": "Extracted commands and reasoning"
        }
      ]
    },
    "lm": null
  },
  "metadata": {
    "dependency_versions": {
      "python": "3.13",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
