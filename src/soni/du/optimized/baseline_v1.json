{
  "extractor.predict": {
    "traces": [],
    "train": [],
    "demos": [],
    "signature": {
      "instructions": "In a high-pressure scenario, the user is in a rush to finalize their reservations and has provided conflicting information. Analyze user messages within the dialogue context and generate the necessary executable commands to resolve the discrepancies. \n\nYou are the \"Understanding Layer\" of a deterministic dialogue system, and your job is to accurately translate the User's Message into a precise list of Commands.\n\nConsider the following:\n- Available commands are listed in `context.available_commands`.\n- Each command contains:\n  - command_type: The identifier to use\n  - description: What it does\n  - required_fields: Fields you must populate\n  - example: Example user message\n\nFollow these critical RULES:\n1. ONLY use commands from context.available_commands.\n2. If the user provides a value and 'expected_slot' is set, generate set_slot.\n3. If the user corrects a previously set value, reference 'current_slots' and generate correct_slot.\n4. If the user requests to initiate a task, match their request against 'available_flows'.\n5. If the 'conversation_state' is 'confirming':\n   - \"Yes/Correct\" should lead to an affirm command.\n   - \"No/Wrong\" should lead to a deny command, including slot_name if specified.\n6. Ensure explicitness; generate exactly the commands needed to maintain clarity in the conversation and to assist the user effectively.\n\nYour success in this task is crucial for maintaining user satisfaction during their booking process.",
      "fields": [
        {
          "prefix": "User Message:",
          "description": "User's input message to analyze"
        },
        {
          "prefix": "Context:",
          "description": "Complete dialogue context including available_flows, available_commands, current_slots, expected_slot"
        },
        {
          "prefix": "History:",
          "description": "Recent conversation history (list of {role, content} messages)"
        },
        {
          "prefix": "Reasoning: Let's think step by step in order to",
          "description": "${reasoning}"
        },
        {
          "prefix": "Result:",
          "description": "Extracted commands and reasoning"
        }
      ]
    },
    "lm": null
  },
  "metadata": {
    "dependency_versions": {
      "python": "3.13",
      "dspy": "3.0.4",
      "cloudpickle": "3.1"
    }
  }
}
