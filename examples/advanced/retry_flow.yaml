version: "1.0"
settings:
  models:
    nlu:
      provider: openai
      model: gpt-4o-mini

flows:
  retry_flow:
    description: "Flow with retry loop using jumps"
    process:
      - step: collect_input
        type: collect
        slot: user_input
      - step: validate
        type: action
        call: validate_input
      - step: check_validation
        type: branch
        input: validation_result
        cases:
          valid: process_input
          invalid: retry_collection
      - step: retry_collection
        type: action
        call: request_correction
        jump_to: collect_input
      - step: process_input
        type: action
        call: process_data

slots:
  user_input:
    type: string
    prompt: "Please enter your input"

actions:
  validate_input:
    description: "Validate user input"
    inputs: [user_input]
    outputs: [validation_result]
  request_correction:
    description: "Request user to correct input"
    inputs: [user_input]
    outputs: []
  process_data:
    description: "Process validated input"
    inputs: [user_input]
    outputs: [result]
